!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(r){function c(e,t){var n=this,o=r(n);if(n.value==o.attr("placeholder")&&o.hasClass("placeholder"))if(o.data("placeholder-password")){if(o=o.hide().nextAll('input[type="password"]:first').show().attr("id",o.removeAttr("id").data("placeholder-id")),!0===e)return o[0].value=t;o.focus()}else n.value="",o.removeClass("placeholder"),n==a()&&n.select()}function i(){var t,n,o,i=this,e=r(i),a=this.id;if(""===i.value){if("password"===i.type){if(!e.data("placeholder-textinput")){try{t=e.clone().attr({type:"text"})}catch(e){t=r("<input>").attr(r.extend((i=this,n={},o=/^jQuery\d+$/,r.each(i.attributes,function(e,t){t.specified&&!o.test(t.name)&&(n[t.name]=t.value)}),n),{type:"text"}))}t.removeAttr("name").data({"placeholder-password":e,"placeholder-id":a}).bind("focus.placeholder",c),e.data({"placeholder-textinput":t,"placeholder-id":a}).before(t)}e=e.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",a).show()}e.addClass("placeholder"),e[0].value=e.attr("placeholder")}else e.removeClass("placeholder")}function a(){try{return document.activeElement}catch(e){}}var e,t="[object OperaMini]"==Object.prototype.toString.call(window.operamini),n="placeholder"in document.createElement("input")&&!t,t="placeholder"in document.createElement("textarea")&&!t,o=r.valHooks,l=r.propHooks;n&&t?(e=r.fn.placeholder=function(){return this}).input=e.textarea=!0:((e=r.fn.placeholder=function(){return this.filter((n?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":c,"blur.placeholder":i}).data("placeholder-enabled",!0).trigger("blur.placeholder"),this}).input=n,e.textarea=t,e={get:function(e){var t=r(e),n=t.data("placeholder-password");return n?n[0].value:t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,t){var n=r(e),o=n.data("placeholder-password");return o?o[0].value=t:n.data("placeholder-enabled")?(""===t?(e.value=t,e!=a()&&i.call(e)):n.hasClass("placeholder")&&c.call(e,!0,t)||(e.value=t),n):e.value=t}},n||(o.input=e,l.value=e),t||(o.textarea=e,l.value=e),r(function(){r(document).delegate("form","submit.placeholder",function(){var e=r(".placeholder",this).each(c);setTimeout(function(){e.each(i)},10)})}),r(window).bind("beforeunload.placeholder",function(){r(".placeholder").each(function(){this.value=""})}))}),function(){"use strict";function c(i,e){var t;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=i,this.tapDelay=e.tapDelay||200,this.tapTimeout=e.tapTimeout||700,!c.notNeeded(i)){for(var n=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],o=this,a=0,r=n.length;a<r;a++)o[n[a]]=function(e,t){return function(){return e.apply(t,arguments)}}(o[n[a]],o);l&&(i.addEventListener("mouseover",this.onMouse,!0),i.addEventListener("mousedown",this.onMouse,!0),i.addEventListener("mouseup",this.onMouse,!0)),i.addEventListener("click",this.onClick,!0),i.addEventListener("touchstart",this.onTouchStart,!1),i.addEventListener("touchmove",this.onTouchMove,!1),i.addEventListener("touchend",this.onTouchEnd,!1),i.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(i.removeEventListener=function(e,t,n){var o=Node.prototype.removeEventListener;"click"===e?o.call(i,e,t.hijacked||t,n):o.call(i,e,t,n)},i.addEventListener=function(e,t,n){var o=Node.prototype.addEventListener;"click"===e?o.call(i,e,t.hijacked||(t.hijacked=function(e){e.propagationStopped||t(e)}),n):o.call(i,e,t,n)}),"function"==typeof i.onclick&&(t=i.onclick,i.addEventListener("click",function(e){t(e)},!1),i.onclick=null)}}var e=0<=navigator.userAgent.indexOf("Windows Phone"),l=0<navigator.userAgent.indexOf("Android")&&!e,a=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,r=a&&/OS 4_\d(_\d)?/.test(navigator.userAgent),s=a&&/OS [6-7]_\d/.test(navigator.userAgent),o=0<navigator.userAgent.indexOf("BB10");c.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(a&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},c.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!l;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},c.prototype.sendClick=function(e,t){var n;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),t=t.changedTouches[0],(n=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(e),!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},c.prototype.determineEventType=function(e){return l&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},c.prototype.focus=function(e){var t;a&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},c.prototype.updateScrollParent=function(e){var t,n=e.fastClickScrollParent;if(!n||!n.contains(e)){t=e;do{if(t.scrollHeight>t.offsetHeight){n=t,e.fastClickScrollParent=t;break}}while(t=t.parentElement)}n&&(n.fastClickLastScrollTop=n.scrollTop)},c.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},c.prototype.onTouchStart=function(e){var t,n,o;if(!(1<e.targetTouches.length)){if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],a){if((o=window.getSelection()).rangeCount&&!o.isCollapsed)return!0;if(!r){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault()}return!0},c.prototype.touchHasMoved=function(e){var e=e.changedTouches[0],t=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>t||Math.abs(e.pageY-this.touchStartY)>t},c.prototype.onTouchMove=function(e){return this.trackingClick&&(this.targetElement===this.getTargetElementFromEventTarget(e.target)&&!this.touchHasMoved(e)||(this.trackingClick=!1,this.targetElement=null)),!0},c.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},c.prototype.onTouchEnd=function(e){var t,n,o,i=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,t=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,s&&(o=e.changedTouches[0],(i=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)||i).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(o=i.tagName.toLowerCase())){if(n=this.findControl(i)){if(this.focus(i),l)return!1;i=n}}else if(this.needsFocus(i))return 100<e.timeStamp-t||a&&window.top!==window&&"input"===o?this.targetElement=null:(this.focus(i),this.sendClick(i,e),a&&"select"===o||(this.targetElement=null,e.preventDefault())),!1;return!(!a||r||(!(n=i.fastClickScrollParent)||n.fastClickLastScrollTop===n.scrollTop))||(this.needsClick(i)||(e.preventDefault(),this.sendClick(i,e)),!1)},c.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},c.prototype.onMouse=function(e){return!this.targetElement||(!!e.forwardedTouchEvent||(!(e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick))||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1)))},c.prototype.onClick=function(e){return this.trackingClick?(this.targetElement=null,!(this.trackingClick=!1)):"submit"===e.target.type&&0===e.detail||((e=this.onMouse(e))||(this.targetElement=null),e)},c.prototype.destroy=function(){var e=this.layer;l&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},c.notNeeded=function(e){var t,n;if(void 0===window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!l)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(31<n&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(o&&(10<=(n=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]&&3<=n[2]&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||(!!(27<=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]&&((t=document.querySelector("meta[name=viewport]"))&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===e.style.touchAction||"manipulation"===e.style.touchAction))},c.attach=function(e,t){return new c(e,t)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return c}):"undefined"!=typeof module&&module.exports?(module.exports=c.attach,module.exports.FastClick=c):window.FastClick=c}();